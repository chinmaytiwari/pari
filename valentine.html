<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Top Secret</title>

<style>
body{
 margin:0;
 font-family:Georgia, serif;
 overflow:hidden;
 background:black;
 text-align:center;
}

/* intro */
#intro{
 position:fixed;
 inset:0;
 background:radial-gradient(circle,#2b003a,black);
 display:flex;
 justify-content:center;
 align-items:center;
 z-index:10;
 animation:fadeIntro 3s forwards;
}

@keyframes fadeIntro{
 0%,80%{opacity:1}
 100%{opacity:0;visibility:hidden}
}

/* password */
#lock{
 position:fixed;
 inset:0;
 background:#111;
 display:flex;
 flex-direction:column;
 justify-content:center;
 align-items:center;
 z-index:20;
 color:white;
}

#lock input{
 margin-top:10px;
 padding:8px;
 font-size:16px;
}

#lock button{
 margin-top:10px;
 position:static;
}

/* pink area */
#main{
 display:none;
 height:100vh;
 background:linear-gradient(135deg,#ff9ec4,#ffd6e8);
 color:black;
 position:relative;
 overflow:hidden;
}

/* layout */
#content{
 position:relative;
 z-index:2;
 padding:20px;
}

#row{
 display:flex;
 justify-content:center;
 align-items:center;
 gap:30px;
 margin-top:20px;
 flex-wrap:wrap;
}

img{
 width:360px;
 max-width:90vw;
 border-radius:25px;
 box-shadow:0 10px 40px rgba(255,0,106,0.4);
 transition:transform 0.3s;
 animation:float 3s ease-in-out infinite;
}

img:hover{
 transform:scale(1.05) rotate(2deg);
}

@keyframes float{
 0%,100%{transform:translateY(0px)}
 50%{transform:translateY(-10px)}
}

/* buttons */
button{
 font-size:20px;
 padding:12px 25px;
 border:none;
 border-radius:10px;
 cursor:pointer;
 transition:all 0.3s;
}

#yesBtn{
 background:#ff2e63;
 color:white;
 animation:pulse 1.5s infinite;
}

#yesBtn:hover{
 transform:scale(1.1);
 box-shadow:0 5px 20px rgba(255,46,99,0.6);
}

@keyframes pulse{
 0%,100%{transform:scale(1)}
 50%{transform:scale(1.05)}
}

#noBtn{
 position:absolute;
 background:#333;
 color:white;
 z-index:3;
 transition:all 0.2s;
 font-size:16px;
 padding:10px 20px;
}

#noBtn:hover{
 background:#555;
}

/* message popup */
#messagePopup{
 position:fixed;
 top:50%;
 left:50%;
 transform:translate(-50%, -50%) scale(0);
 background:rgba(255,255,255,0.98);
 padding:40px 50px;
 border-radius:30px;
 box-shadow:0 20px 60px rgba(255,0,106,0.5);
 z-index:100;
 max-width:85vw;
 max-height:80vh;
 overflow-y:auto;
 display:none;
}

#messagePopup.show{
 display:block;
 animation:popIn 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
}

@keyframes popIn{
 0%{
  transform:translate(-50%, -50%) scale(0) rotate(-180deg);
  opacity:0;
 }
 100%{
  transform:translate(-50%, -50%) scale(1) rotate(0deg);
  opacity:1;
 }
}

#messageText{
 font-size:26px;
 line-height:1.6;
 color:#ff006a;
 font-weight:bold;
 text-shadow:0 2px 10px rgba(255,105,180,0.3);
}

#closePopup{
 margin-top:30px;
 background:#ff2e63;
 color:white;
 font-size:18px;
 padding:12px 30px;
 border:none;
 border-radius:25px;
 cursor:pointer;
 transition:all 0.3s;
}

#closePopup:hover{
 transform:scale(1.1);
 box-shadow:0 5px 20px rgba(255,46,99,0.6);
}

/* particle layer */
#fx{
 position:absolute;
 inset:0;
 pointer-events:none;
 z-index:1;
}

.p{
 position:absolute;
 font-size:42px;
 animation:fall 7s linear forwards;
}

@keyframes fall{
 to{transform:translateY(110vh) rotate(360deg);opacity:0}
}

/* confetti */
.confetti{
 position:absolute;
 width:10px;
 height:10px;
 animation:confettiFall 3s linear forwards;
}

@keyframes confettiFall{
 to{transform:translateY(110vh) rotate(720deg);opacity:0}
}

/* floating hearts */
.floatingHeart{
 position:absolute;
 font-size:30px;
 animation:floatUp 4s ease-out forwards;
 pointer-events:none;
}

@keyframes floatUp{
 to{transform:translateY(-100vh);opacity:0}
}

/* click counter */
#clickCounter{
 position:absolute;
 top:20px;
 right:20px;
 background:rgba(255,255,255,0.9);
 padding:15px 20px;
 border-radius:15px;
 font-weight:bold;
 color:#ff006a;
 box-shadow:0 5px 15px rgba(0,0,0,0.2);
 z-index:5;
}

/* love meter */
#loveMeter{
 position:absolute;
 top:20px;
 left:20px;
 background:rgba(255,255,255,0.9);
 padding:15px 20px;
 border-radius:15px;
 z-index:5;
 font-weight:bold;
}

#loveBar{
 width:150px;
 height:20px;
 background:#ddd;
 border-radius:10px;
 overflow:hidden;
 margin-top:5px;
}

#loveProgress{
 height:100%;
 width:0%;
 background:linear-gradient(90deg,#ff006a,#ff69b4);
 transition:width 0.5s;
}

/* shake animation for no button */
@keyframes shake{
 0%,100%{transform:translateX(0)}
 25%{transform:translateX(-5px)}
 75%{transform:translateX(5px)}
}

.shake{
 animation:shake 0.3s;
}

/* overlay */
#overlay{
 position:fixed;
 inset:0;
 background:rgba(0,0,0,0.7);
 z-index:99;
 display:none;
}

#overlay.show{
 display:block;
 animation:fadeIn 0.3s;
}

@keyframes fadeIn{
 from{opacity:0}
 to{opacity:1}
}
</style>
</head>

<body>

<div id="intro"><h1>VERY IMPORTANT AND CONFIDENTIAL....</h1></div>

<div id="lock">
<h2>Enter password üîí</h2>
<input id="pass" type="password">
<button onclick="unlock()">Enter</button>
</div>

<div id="main">

<div id="fx"></div>

<div id="loveMeter">
<div>Love Meter üíï</div>
<div id="loveBar"><div id="loveProgress"></div></div>
<div id="lovePercent">0%</div>
</div>

<div id="clickCounter">
No Button Escapes: <span id="escapeCount">0</span> üòÇ
</div>

<div id="content">
<h1>Will you be my Valentine? ‚ù§Ô∏è</h1>

<div id="row">
<img src="pariinthesocks.png" id="mainImg">
<button id="yesBtn">YES CHINTI</button>
</div>
</div>

<button id="noBtn">lemme overthink and then say YES</button>

</div>

<div id="overlay"></div>

<div id="messagePopup">
<div id="messageText"></div>
<button id="closePopup">Close üíñ</button>
</div>

<audio id="music" src="music.mp3" loop></audio>

<script>
const main=document.getElementById("main");
const lock=document.getElementById("lock");
const noBtn=document.getElementById("noBtn");
const yesBtn=document.getElementById("yesBtn");
const messagePopup=document.getElementById("messagePopup");
const messageText=document.getElementById("messageText");
const overlay=document.getElementById("overlay");
const closePopup=document.getElementById("closePopup");
const music=document.getElementById("music");
const fx=document.getElementById("fx");
const escapeCount=document.getElementById("escapeCount");
const loveProgress=document.getElementById("loveProgress");
const lovePercent=document.getElementById("lovePercent");
const mainImg=document.getElementById("mainImg");

let armed=false;
let escapes=0;
let loveLevel=0;

/* place beside Yes */
function placeNextToYes(){
 const yRect=yesBtn.getBoundingClientRect();
 const mRect=main.getBoundingClientRect();
 const x=yRect.right-mRect.left+20;
 const y=yRect.top-mRect.top;
 noBtn.style.left=x+"px";
 noBtn.style.top=y+"px";
}

/* unlock */
function unlock(){
 if(document.getElementById("pass").value==="pariinthesocks"){
  lock.style.display="none";
  main.style.display="block";
  music.volume=0.2;
  music.play().catch(()=>{});
  armed=true;
  startRain();
  requestAnimationFrame(placeNextToYes);
 }
}

/* roam */
noBtn.addEventListener("mouseenter",()=>{
 if(!armed) return;

 const maxX=main.clientWidth-noBtn.offsetWidth;
 const maxY=main.clientHeight-noBtn.offsetHeight;

 noBtn.style.left=Math.random()*maxX+"px";
 noBtn.style.top=Math.random()*maxY+"px";
 
 noBtn.classList.add("shake");
 setTimeout(()=>noBtn.classList.remove("shake"),300);

 escapes++;
 escapeCount.textContent=escapes;
 
 loveLevel=Math.min(100,loveLevel+5);
 updateLoveMeter();

 laughBurst();
 createFloatingHeart(event.clientX,event.clientY);
});

/* update love meter */
function updateLoveMeter(){
 loveProgress.style.width=loveLevel+"%";
 lovePercent.textContent=loveLevel+"%";
}

/* floating heart on hover */
function createFloatingHeart(x,y){
 const heart=document.createElement("div");
 heart.className="floatingHeart";
 heart.innerHTML="üíñ";
 heart.style.left=x+"px";
 heart.style.top=y+"px";
 document.body.appendChild(heart);
 setTimeout(()=>heart.remove(),4000);
}

/* laugh */
function laughBurst(){
 for(let i=0;i<6;i++) spawn("üòÇ");
}

/* image click interaction */
mainImg.addEventListener("click",()=>{
 if(!armed) return;
 spawn("üíã");
 spawn("üíï");
 spawn("‚ú®");
 loveLevel=Math.min(100,loveLevel+3);
 updateLoveMeter();
});

/* yes */
yesBtn.onclick=()=>{
 armed=false;
 loveLevel=100;
 updateLoveMeter();
 showMessage();
 yesExplosion();
 confettiBurst();
};

/* show message popup */
function showMessage(){
 overlay.classList.add("show");
 messagePopup.classList.add("show");
 typeText("I choose you. Can we give each other more hugs, and more kisses, and do more silly acts together, and go on some pahaad trips please, and obviously more adventures? And just‚Ä¶ more us ‚ù§Ô∏è");
}

/* close popup */
closePopup.onclick=()=>{
 overlay.classList.remove("show");
 messagePopup.classList.remove("show");
};

/* background rain */
function startRain(){
 setInterval(()=>spawn("üåπ"),200);
 setInterval(()=>spawn("üòò"),250);
 setInterval(()=>spawn("‚ù§Ô∏è"),350);
 setInterval(()=>spawn("‚ú®"),180);
}

/* YES explosion */
function yesExplosion(){
 setInterval(()=>{
  for(let i=0;i<20;i++){
   spawn("üåπ");
   spawn("üòò");
   spawn("‚ù§Ô∏è");
  }
 },350);
}

/* confetti burst */
function confettiBurst(){
 const colors=["#ff006a","#ff69b4","#ffd700","#00ff00","#00bfff","#ff00ff"];
 for(let i=0;i<100;i++){
  setTimeout(()=>{
   const c=document.createElement("div");
   c.className="confetti";
   c.style.left=Math.random()*100+"%";
   c.style.top="-10px";
   c.style.background=colors[Math.floor(Math.random()*colors.length)];
   c.style.animationDelay=Math.random()*0.5+"s";
   fx.appendChild(c);
   setTimeout(()=>c.remove(),3000);
  },i*20);
 }
}

/* particle */
function spawn(char){
 const e=document.createElement("div");
 e.className="p";
 e.innerHTML=char;
 e.style.left=Math.random()*100+"%";
 fx.appendChild(e);
 setTimeout(()=>e.remove(),7000);
}

/* typing effect */
function typeText(t){
 messageText.innerHTML="";
 let i=0;
 (function loop(){
  if(i<t.length){
   messageText.innerHTML+=t[i++];
   setTimeout(loop,40);
  }
 })();
}
</script>

</body>
</html>